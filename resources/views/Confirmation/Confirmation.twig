{% extends "PluginCallisto::PageDesign" %}

{% set order = services.customer.getLatestOrder() %}
{# FIXME: Unauthorized method #}
{#% set shippingAddress = services.customer.getAddress( order.addresses[0].addressId, 1 ) %#}
{#% set paymentAddress = services.customer.getAddress( order.addresses[1].addressId, 2 ) %#}


{% block PageBody %}
<div class="myaccount container m-y-3">

    <div class="row m-b-3">
        <div class="col-xs-12">
            <h1>Vielen Dank!</h1>
            <p>Ihre Bestellung wird bearbeitet. Hier finden Sie eine Zusammenfassung:</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-5 m-b-2">
            <div class="card small">
                <div class="card-header">
                    <h5>Auftrag ID {{ order.id }}</h5>
                </div>
                <div class="card-block">
                    <div class="details">
                        <div class="row">
                            <strong class="col-xs-6 col-sm-5">Auftragsdatum:</strong>
                            <span class="col-xs-6 col-sm-7">{{ order.createdAt|date("d.m.Y")}}</span>
                        </div>
                        <div class="row">
                            <strong class="col-xs-6 col-sm-5">Zahlungseingang:</strong>
                            <span class="col-xs-6 col-sm-7"> Kein Zahlungseingang </span>
                        </div>
                        <div class="row">
                            <strong class="col-xs-6 col-sm-5">Status:</strong>
                            <span class="col-xs-6 col-sm-7">[{{ order.statusId }}] Storniert</span>
                        </div>
                        <div class="row">
                            <strong class="col-xs-6 col-sm-5">Versand:</strong>
                            <span class="col-xs-6 col-sm-7">Noch nicht versendet</span>
                        </div>
                    </div>

                    <hr>

                    <div class="invoiceaddress">
                        <h6>Rechnungsanschrift</h6>
                        <div>{{shippingAddress.name1}}</div>
                        <div>{{shippingAddress.name2}} {{shippingAddress.name3}}</div>
                        <div>{{shippingAddress.name4}}</div>
                        <div>{{shippingAddress.address1}} {{shippingAddress.address2}}</div>
                        <div>{{shippingAddress.postalCode}} {{shippingAddress.town}}</div>
                    </div>

                    <hr>

                    <div class="shippingaddress">
                        <h6>Lieferanschrift</h6>
                        <div>{{paymentAddress.name1}}</div>
                        <div>{{paymentAddress.name2}} {{paymentAddress.name3}}</div>
                        <div>{{paymentAddress.name4}}</div>
                        <div>{{paymentAddress.address1}} {{paymentAddress.address2}}</div>
                        <div>{{paymentAddress.postalCode}} {{paymentAddress.town}}</div>
                    </div>
                    <hr>

                    <div class="paymentmethod">
                        <h6>Zahlungsart</h6>
                        <div>PayPal Plus</div>
                    </div>

                    <hr>

                    <div class="shippingmethod">
                        <h6>Versandart</h6>
                        <div>DHL Paketversand</div>
                    </div>

                    <hr>

                    <div class="status">
                        <h6>Statushistorie</h6>
                        <ul>
                            <li><span class="text-muted">03.08.2016 13:55</span> [8] Storniert</li>
                            <li><span class="text-muted">03.08.2016 10:15</span> [3] Warten auf Zahlung</li>
                        </ul>
                    </div>

                </div>
                <!-- <div class="card-footer">

                </div> -->
            </div>

        </div>

        <div class="col-md-7">
            <div class="confirmation-order-list">

                <!-- component-order-item -->
                <article class="cmp cmp-order-item">
                    <div class="row">
                        <div class="col-md-7 item-main">
                            <div class="item-image">
                                <img src="http://placehold.it/120x120">
                            </div>

                            <div class="item-details">
                                <h5>Order ID 525244</h5>
                                <h6 class="item-name small">
                                    C0822 - Cool Cute Playful Naughty Cats Kittens Design Macbook pro 13.3'' (2010-2015) Fashion Trend Hülle Schutzhülle Schutzcase Hartplastik komplett Hülle Vorder-und Rück
                                </h6>
                                <p class="id small"><strong>Art. ID</strong> 525244343354151</p>
                            </div>
                        </div>
                        <div class="col-md-5 small">
                            <div class="row">
                                <strong class="col-xs-6 col-sm-5">Auftragsdatum:</strong>
                                <span class="col-xs-6 col-sm-7">03.08.2016</span>
                            </div>
                            <div class="row">
                                <strong class="col-xs-6 col-sm-5">Empfänger:</strong>
                                <span class="col-xs-6 col-sm-7">frontend-studios</span>
                            </div>
                            <div class="row">
                                <strong class="col-xs-6 col-sm-5">Status:</strong>
                                <span class="col-xs-6 col-sm-7">[8] Storniert</span>
                            </div>
                            <div class="row">
                                <strong class="col-xs-6 col-sm-5">Versand:</strong>
                                <span class="col-xs-6 col-sm-7">Noch nicht versendet</span>
                            </div>
                        </div>
                    </div>

                </article>

            </div>
            <div class="gesamtsumme">
                <basket-total-sum basket-data="{{ services.basket.getBasket()|json_encode() }}" :show-full="false">
                </basket-total-sum>
            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-xs-6 col-md-4 offset-md-2">
            <a href="/" type="" class="btn btn-primary btn-block bg-primary">Startseite</a>
        </div>

        <div class="col-xs-6 col-md-4">
            <a href="/my-account" type="" class="btn btn-primary btn-block bg-primary">Mein Konto</a>
        </div>
    </div>

</div>

{% endblock %}
